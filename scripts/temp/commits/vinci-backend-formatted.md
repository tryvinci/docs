# vinci-backend (prod branch)
## Recent Commits (Last 30 Days)

Found 43 commits:

### Merge pull request #134 from tryvinci/staging
- **Date:** 2025-07-28 08:28 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [8e8c538](https://github.com/tryvinci/vinci-backend/commit/8e8c5385d967f46809e49fad50dffbcc312aa8c1)
- **Message:** Merge pull request #134 from tryvinci/staging
- **Details:** Prod weekly build


### Merge pull request #133 from tryvinci/132-backend-integration---async…
- **Date:** 2025-07-27 15:56 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [cb98952](https://github.com/tryvinci/vinci-backend/commit/cb98952a8b4afacb84f2ce9a3eea7c720de9be17)
- **Message:** Merge pull request #133 from tryvinci/132-backend-integration---async-live-portrait
- **Details:** …-live-portrait

132 backend integration   async live portrait


### prevent pasteback for live portrait.
- **Date:** 2025-07-27 15:49 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [3c6f042](https://github.com/tryvinci/vinci-backend/commit/3c6f0427b68d71392a3aff2c2fa701689e724ecf)
- **Message:** prevent pasteback for live portrait.


### fix json issue
- **Date:** 2025-07-27 12:29 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [b1c6384](https://github.com/tryvinci/vinci-backend/commit/b1c638499665dd9ead51495363681640f9301b5f)
- **Message:** fix json issue


### update api docs
- **Date:** 2025-07-26 12:39 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [f747868](https://github.com/tryvinci/vinci-backend/commit/f747868cb414c633bc2ef42a0c1182274459a719)
- **Message:** update api docs


### initial implementation
- **Date:** 2025-07-26 12:27 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [a4d57f9](https://github.com/tryvinci/vinci-backend/commit/a4d57f9faeef5e017b3959d443fada9a1b487399)
- **Message:** initial implementation


### Merge pull request #131 from tryvinci/129-integrate-new-api-endpoints…
- **Date:** 2025-07-25 17:51 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [1235e73](https://github.com/tryvinci/vinci-backend/commit/1235e73682ac9006af35f9d10fdeb5966a3f2d76)
- **Message:** Merge pull request #131 from tryvinci/129-integrate-new-api-endpoints-for-voice-cloning
- **Details:** …-for-voice-cloning

129 integrate new api endpoints for voice cloning


### voice clone integrtion bug fixed
- **Date:** 2025-07-25 17:50 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [44fa412](https://github.com/tryvinci/vinci-backend/commit/44fa4125be2be6b55099afcef9a37c6e4aac71b2)
- **Message:** voice clone integrtion bug fixed


### implementation completed
- **Date:** 2025-07-25 17:27 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [6a7a856](https://github.com/tryvinci/vinci-backend/commit/6a7a856b4fb5065bb8e1a4444bfb1add22d5aa8e)
- **Message:** implementation completed


### update to new tts api
- **Date:** 2025-07-25 09:22 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [ea7d2dd](https://github.com/tryvinci/vinci-backend/commit/ea7d2ddc6a2d478dbc7d85b413df6d53207af818)
- **Message:** update to new tts api


### Merge pull request #123 from tryvinci/staging
- **Date:** 2025-07-23 11:04 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [2f9eced](https://github.com/tryvinci/vinci-backend/commit/2f9ecedf273a436d615599e13f00a9aad7a20099)
- **Message:** Merge pull request #123 from tryvinci/staging
- **Details:** New features and bug fixes


### bugfix - revert incorrectly alterd function get_user_credits()
- **Date:** 2025-07-23 10:12 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [b66f314](https://github.com/tryvinci/vinci-backend/commit/b66f314c465255269c596cfb4a4d1c230fe30308)
- **Message:** bugfix - revert incorrectly alterd function get_user_credits()


### hotfix - correctly add credits for new user.
- **Date:** 2025-07-23 10:00 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [00dd100](https://github.com/tryvinci/vinci-backend/commit/00dd1004920d7c90e7f53ee8415761876990d62c)
- **Message:** hotfix - correctly add credits for new user.


### Merge pull request #128 from tryvinci/127-prevent-new-user-credit-all…
- **Date:** 2025-07-23 09:40 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [8236a26](https://github.com/tryvinci/vinci-backend/commit/8236a2691dc1c9528e22c269d9c35d0a69e3a45a)
- **Message:** Merge pull request #128 from tryvinci/127-prevent-new-user-credit-allocation-abuse
- **Details:** …ocation-abuse

127 prevent new user credit allocation abuse


### implementation completed.
- **Date:** 2025-07-23 09:39 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [b1c26db](https://github.com/tryvinci/vinci-backend/commit/b1c26db829cd30b86554101119255ba930ddd90e)
- **Message:** implementation completed.


### initial implementation
- **Date:** 2025-07-23 08:39 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [f47d0ac](https://github.com/tryvinci/vinci-backend/commit/f47d0aca7be04c412f59ca27480360be2248a222)
- **Message:** initial implementation


### Merge pull request #121 from tryvinci/119-discord-invite-webhook-update
- **Date:** 2025-07-23 07:32 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [674371c](https://github.com/tryvinci/vinci-backend/commit/674371c0b89573b0908108be0f43852fd061dfad)
- **Message:** Merge pull request #121 from tryvinci/119-discord-invite-webhook-update
- **Details:** file added


### cloudbuild files updated
- **Date:** 2025-07-23 06:52 UTC
- **Author:** Samyak Gupta
- **Commit:** [de22a92](https://github.com/tryvinci/vinci-backend/commit/de22a922e6cb57f4bddde69c3cfe2d86a89fc89d)
- **Message:** cloudbuild files updated


### Merge pull request #122 from tryvinci/120-free-20-credits-using-clerk…
- **Date:** 2025-07-22 18:32 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [4b2c9a6](https://github.com/tryvinci/vinci-backend/commit/4b2c9a6e86986d822fa33f577d072d9b3678fa79)
- **Message:** Merge pull request #122 from tryvinci/120-free-20-credits-using-clerk-webhook
- **Details:** …-webhook

120 free 20 credits using clerk webhook


### remove create users endpoint
- **Date:** 2025-07-22 17:41 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [ab3adb2](https://github.com/tryvinci/vinci-backend/commit/ab3adb2b0ce82afb808dbb2d38271c489f9095ce)
- **Message:** remove create users endpoint


### gemini config
- **Date:** 2025-07-22 17:36 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [669f35c](https://github.com/tryvinci/vinci-backend/commit/669f35c37f03077aa0f1c2f8742f7479940e1e6a)
- **Message:** gemini config


### import changes
- **Date:** 2025-07-22 16:51 UTC
- **Author:** Samyak Gupta
- **Commit:** [a7b619c](https://github.com/tryvinci/vinci-backend/commit/a7b619c2bb1828171de670f56647032655de152b)
- **Message:** import changes


### file added
- **Date:** 2025-07-22 16:40 UTC
- **Author:** Samyak Gupta
- **Commit:** [f0e186f](https://github.com/tryvinci/vinci-backend/commit/f0e186f4593f093979a7260dd26b70df0202aa7c)
- **Message:** file added


### Merge pull request #114 from tryvinci/cloudrun-provided-service-account
- **Date:** 2025-07-22 08:37 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [dcb5c81](https://github.com/tryvinci/vinci-backend/commit/dcb5c81d6f3b0d46de070c6a3d02784beb0d669b)
- **Message:** Merge pull request #114 from tryvinci/cloudrun-provided-service-account
- **Details:** use cloud run provided service account


### use cloud run provided service account
- **Date:** 2025-07-22 08:32 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [9b6703a](https://github.com/tryvinci/vinci-backend/commit/9b6703a936568842878f24b2caefbe4746a86646)
- **Message:** use cloud run provided service account


### Merge pull request #112 from tryvinci/93-vinci-backend-integrate-new-…
- **Date:** 2025-07-21 13:35 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [7dcb070](https://github.com/tryvinci/vinci-backend/commit/7dcb070fb292a61950967707f469b397240fb539)
- **Message:** Merge pull request #112 from tryvinci/93-vinci-backend-integrate-new-latentsync-api
- **Details:** …latentsync-api

93 vinci backend integrate new latentsync api


### finished implementation
- **Date:** 2025-07-21 13:30 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [ad7bf03](https://github.com/tryvinci/vinci-backend/commit/ad7bf03246315e359d40914560e4643c4561ec76)
- **Message:** finished implementation


### initial implementation of async latentsync
- **Date:** 2025-07-21 12:39 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [e61850d](https://github.com/tryvinci/vinci-backend/commit/e61850d037ecd33d93ceca646924b4c5cb35fe2a)
- **Message:** initial implementation of async latentsync


### resolve package conflicts
- **Date:** 2025-07-17 16:52 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [2033de5](https://github.com/tryvinci/vinci-backend/commit/2033de5909910e95c641b626794050ed72abd7ca)
- **Message:** resolve package conflicts


### Merge pull request #110 from tryvinci/108-add-env-variable-to-cloudbu…
- **Date:** 2025-07-17 16:33 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [7b0b666](https://github.com/tryvinci/vinci-backend/commit/7b0b6663690689981c6d181f0b97a06a80935f11)
- **Message:** Merge pull request #110 from tryvinci/108-add-env-variable-to-cloudbuildyml-and-cloudbuild_servingyml
- **Details:** …ildyml-and-cloudbuild_servingyml

edit cloudbuild


### image fix
- **Date:** 2025-07-17 16:32 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [38eb52f](https://github.com/tryvinci/vinci-backend/commit/38eb52ffae9e7064a7ac6a58c801ce9385fd7a40)
- **Message:** image fix


### edit cloudbuild
- **Date:** 2025-07-17 16:21 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [aa0f7af](https://github.com/tryvinci/vinci-backend/commit/aa0f7afe6b1858e34b1aab60fc47b08d2a7aa632)
- **Message:** edit cloudbuild


### Merge pull request #105 from tryvinci/feature/clerk-webhook-automatic…
- **Date:** 2025-07-17 12:21 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [4687414](https://github.com/tryvinci/vinci-backend/commit/4687414ca6d60997b061bf4db6dd0526d20309fd)
- **Message:** Merge pull request #105 from tryvinci/feature/clerk-webhook-automatic-credits
- **Details:** …-credits

Implement Clerk webhook for automatic 20 credits on user signup


### Merge pull request #104 from tryvinci/fix/avatars-upload-empty-url-fo…
- **Date:** 2025-07-17 12:14 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [a5ecf41](https://github.com/tryvinci/vinci-backend/commit/a5ecf41394f20e538d9f8e34413155525d674529)
- **Message:** Merge pull request #104 from tryvinci/fix/avatars-upload-empty-url-for-images
- **Details:** …r-images

Fix: Ensure url field is populated for image uploads


### feat: implement Clerk webhook for automatic 20 credits on user signup
- **Date:** 2025-07-17 05:45 UTC
- **Author:** Siddhant Singh
- **Commit:** [f2b63f2](https://github.com/tryvinci/vinci-backend/commit/f2b63f25590119068bba518ee329f6a5e39ece59)
- **Message:** feat: implement Clerk webhook for automatic 20 credits on user signup
- **Details:** - Add /clerk-webhook endpoint to handle user.created events
- Implement HMAC-SHA256 signature verification for security
- Automatically create users with 20 credits when they sign up via Clerk
- Add duplicate user protection and comprehensive error handling
- Include detailed setup documentation and environment configuration
- Add clerk-backend-api dependency for webhook support

Features:
- Secure webhook signature verification
- Automatic user creation with 20 credits
- Free tier subscription assignment
- Comprehensive logging and error handling
- Protection against duplicate user creation
- Detailed setup and troubleshooting documentation

Configuration:
- Requires CLERK_WEBHOOK_SECRET environment variable
- Endpoint: POST /clerk-webhook
- Triggered by Clerk user.created events

This replaces the manual user creation flow with automatic credit assignment
via Clerk webhooks, improving user experience and reducing frontend complexity.

Resolves #66


### fix: ensure url field is populated for image uploads in avatars/upload
- **Date:** 2025-07-17 03:22 UTC
- **Author:** Siddhant Singh
- **Commit:** [2910a26](https://github.com/tryvinci/vinci-backend/commit/2910a26ff1c8bcf02c8ddb018b55e2cad318dd62)
- **Message:** fix: ensure url field is populated for image uploads in avatars/upload
- **Details:** - Add fallback logic for image assets when video_url is null but thumbnail_image_url exists
- Fixes issue where images uploaded via thumbnail parameter resulted in empty url field
- Maintains backward compatibility with existing video upload flow
- Preserves all existing thumbnail functionality

Before: Image uploads via thumbnail param → url: "", thumbnailUrl: "valid-url"
After:  Image uploads via thumbnail param → url: "valid-url", thumbnailUrl: "valid-url"

Fixes #95

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>


### feat: add primitiveType field to avatars for character/object/environ…
- **Date:** 2025-07-17 00:05 UTC
- **Author:** Siddhant Singh
- **Commit:** [0cb999a](https://github.com/tryvinci/vinci-backend/commit/0cb999a8995c1c872c651c8f56b4bb7382c9beb2)
- **Message:** feat: add primitiveType field to avatars for character/object/environment tagging
- **Details:** …ment tagging

- Add primitiveType field to AvatarModel with validation (ch/ob/en)
- Update /avatars/upload endpoint to accept primitive_type parameter
- Add Pydantic validation for allowed primitive type values
- Create migration script to set existing avatars to 'ch' default
- Successfully migrated 61 existing avatar records
- Maintain backward compatibility with default 'ch' value

Resolves #90

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>


### fix: make input_images optional in /generate/multi-image endpoint
- **Date:** 2025-07-16 23:53 UTC
- **Author:** Siddhant Singh
- **Commit:** [f062aaa](https://github.com/tryvinci/vinci-backend/commit/f062aaadd3b7401504c6ef368c0d1e0f80afd624)
- **Message:** fix: make input_images optional in /generate/multi-image endpoint
- **Details:** - Changed input_images parameter from required to optional
- Added conditional handling for when no images are provided
- Updated type annotation and documentation
- Fixes issue #101

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>


### Merge pull request #100 from tryvinci/99-remove-all-trace-of-whisper-…
- **Date:** 2025-07-15 14:34 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [28c96a8](https://github.com/tryvinci/vinci-backend/commit/28c96a8c6d1a89dc8b0e50536ed7d1b865abe30f)
- **Message:** Merge pull request #100 from tryvinci/99-remove-all-trace-of-whisper-from-backend
- **Details:** …from-backend

implementation complete


### implementation complete
- **Date:** 2025-07-15 14:33 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [f57edff](https://github.com/tryvinci/vinci-backend/commit/f57edff1f1bee08411130a64a9c5f7f25e1dc616)
- **Message:** implementation complete


### Merge pull request #98 from tryvinci/voice_cloningi_with_voice_id
- **Date:** 2025-07-15 14:09 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [ab377b4](https://github.com/tryvinci/vinci-backend/commit/ab377b4a8e54522494a691a7b7f0a8af8adbf895)
- **Message:** Merge pull request #98 from tryvinci/voice_cloningi_with_voice_id
- **Details:** Voice cloning with voice


### add option to use original audio
- **Date:** 2025-07-15 13:53 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [6b2e8d8](https://github.com/tryvinci/vinci-backend/commit/6b2e8d8980c230e2511d53a194b072550ab104ee)
- **Message:** add option to use original audio


### initial implementation
- **Date:** 2025-07-15 12:54 UTC
- **Author:** Pratyush Chauhan
- **Commit:** [8761e8a](https://github.com/tryvinci/vinci-backend/commit/8761e8a27a3f3cda84cd34545345c85573a38916)
- **Message:** initial implementation


